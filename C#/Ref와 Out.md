# **Ref와 Out**

변수가 *메소드에 대한 참조에 의해 전달될 때  or 함수 내에서* ref 및 out 키워드를 사용할 수 있다. 

둘 다 인수 / 매개 변수가 참조로 전달되었음을 나타낸다.
  
<br>
    
### 두 키워드를 모두 사용하는 이유

ref 키워드를 사용하여 인수 앞에 value라는 값을 변경하고 호출된 메소드에 전달한 후 

out 키워드를 사용하여 인수의 값을 이전 값으로 되돌릴 수 있다. out 키워드로.

### 공통점

ref와 out은 런타임에 다르게 처리되며 컴파일 시간에 동일하게 처리

속성(Property)은 변수가 아니므로 ref 또는 out 매개변수로 전달할 수 없다.   

>
    💡 
    런타임 : 프로그램이 실행되는 시간
    컴파일 : 프로그램을 생성하는 과정


# **Ref**

인수를 참조로 전달하는 데 사용된다. 즉, 해당 매개변수의 값이 메서드에서 변경되면 호출하는 메서드에 반영된다.

ref 키워드를 사용하여 전달된 인수는 호출된 메서드에 전달되기 전에 호출 메서드에서 초기화되어야 한다.

ref키워드를 이용하면 스택영역 메모리의 주소를 사용하면서 Call by reference를 사용하게 된다.

### 특징

- 매개 변수가 ref로 전달되기 전에 초기화해야 합니다.
- 값형식이든 참조 형식이든 둘다 스택에 있는 값이 복사된다.
    
>
    💡 
    값 형식 : 스택영역 메모리에 값이 직접 들어가있어서 그것이 복사된 것 
    참조 형식 : 스택영역 메모리에 힙영역의 주소가 들어있어서 그 주소가 복사되면서 같은 객체를 가리킴
    

    
- 호출 메서드로 돌아가기 전에 매개 변수 값을 초기화할 필요는 없다.
- ref 매개 변수를 통한 값 전달은 호출된 메서드가 전달된 매개 변수의 값을 변경해야 할 때 유용
- ref를 사용하면 데이터를 양방향으로 전달할 수 있다.

```csharp
static void Main(string[] args)
        {
            int a = 100;
            int b = 200;
            swapvalue(ref a, ref b);
            Console.WriteLine("변수{0}에 들어있는 수는{1}입니다.", "a", a);
            Console.WriteLine("변수{0}에 들어있는 수는{1}입니다.", "b", b);
 
        }
				// Method references
        static void swapvalue(ref int a, ref int b)
        {
            int temp = a;
            a = b;
            b = temp;
        }
```

# **out**

- out 키워드는 ref 키워드와 같은 인수를 전달하는데도 사용되지만, 값을 할당하지 않고도 인수를 전달할 수 있다.
- out 키워드를 사용하여 전달된 인수는 호출 메서드로 돌아가기 전에 호출된 메서드에서 초기화되어야 한다.
- 메서드에 전달된 변수 앞에 out 키워드가 오는 경우 이 메서드는 return 키워드를 사용하지 않고이를 반환

### 특징

- 매개 변수가 전달되기 전에 초기화할 필요가 없다.
전달된 메서드 내에서 초기화되어야 한다.
- 호출 메서드로 돌아가기 전에 매개 변수 값을 초기화해야한다.
- out 매개 변수를 통한 매개 변수 선언은 메서드가 여러 값을 리턴할 때 유용
- out을 사용할 때 데이터는 단방향 방식으로만 전달. (호출된 메서드에서 호출자 메서드로)
